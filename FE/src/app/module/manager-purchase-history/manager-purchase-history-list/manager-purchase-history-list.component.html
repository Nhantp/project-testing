<!--<ng-container *ngIf="page">-->
<!--  <div style="width: 80%;height: 90%; margin: 10px auto; position: relative">-->
<!--  <div class="container-fluid main-content" >-->
<!--    <div class="table-responsive ">-->

<!--      <div>-->
<!--        <div class="table-title">-->
<!--          <div class="row header mt-3">-->
<!--            <h1 class="text-center"> <i class="fa fa-history me-3"-->
<!--                    aria-hidden="true"></i>Lịch sử bán hàng</h1>-->
<!--          </div>-->
<!--        </div>-->
<!--&lt;!&ndash;        <form style="margin-top: 10px"&ndash;&gt;-->
<!--&lt;!&ndash;          class="col-xl-10">&ndash;&gt;-->
<!--&lt;!&ndash;          &lt;!&ndash;            (ngSubmit)="search()"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;          <div&ndash;&gt;-->
<!--&lt;!&ndash;            class="col-xl-12 col-lg-12 col-md-12 col-12 d-flex flex-wrap"&ndash;&gt;-->
<!--&lt;!&ndash;          >&ndash;&gt;-->
<!--&lt;!&ndash;            <div&ndash;&gt;-->
<!--&lt;!&ndash;              class="col-xl-2 col-lg-2 col-md-12 d-flex align-items-center mb-md-2"&ndash;&gt;-->
<!--&lt;!&ndash;            >&ndash;&gt;-->
<!--&lt;!&ndash;              <label class="me-2"><b>Tìm kiếm theo:</b></label>&ndash;&gt;-->
<!--&lt;!&ndash;              &lt;!&ndash; end &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="col-xl-5 col-lg-6 col-md-6">&ndash;&gt;-->
<!--&lt;!&ndash;              <div class="row">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="col-xl-6 col-lg-6 col-md-11 mb-md-2">&ndash;&gt;-->
<!--&lt;!&ndash;                  <input&ndash;&gt;-->
<!--&lt;!&ndash;                    type="text"&ndash;&gt;-->
<!--&lt;!&ndash;                    class="form-control me-2 custom99"&ndash;&gt;-->
<!--&lt;!&ndash;                    name="searchName" #nameSearch disabled&ndash;&gt;-->
<!--&lt;!&ndash;                  />&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->

<!--&lt;!&ndash;                <div class="col-xl-6 col-lg-6 col-md-11">&ndash;&gt;-->
<!--&lt;!&ndash;                  <input&ndash;&gt;-->
<!--&lt;!&ndash;                    type="text"&ndash;&gt;-->
<!--&lt;!&ndash;                    class="form-control me-2 custom99"&ndash;&gt;-->
<!--&lt;!&ndash;                    name="searchAddress" #addressSearch disabled&ndash;&gt;-->
<!--&lt;!&ndash;                  />&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="col-xl-5 col-lg-4 col-md-6">&ndash;&gt;-->
<!--&lt;!&ndash;              <div class="row">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="col-xl-1 col-lg-1"></div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="d-xl-none d-lg-none col-md-1"></div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="col-xl-5 col-lg-2 col-md-5 col-md-11">&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                  <button class="ms-2 search-icon"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                          >&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    <svg&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      xmlns="http://www.w3.org/2000/svg"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      width="25"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      height="25"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      fill="currentColor"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      class="bi bi-search"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      viewBox="0 0 16 16"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    >&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      <path&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      />&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    </svg>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                  </button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;          </div>&ndash;&gt;-->
<!--&lt;!&ndash;        </form>&ndash;&gt;-->
<!--        <table class="table table-striped table-bordered table-hover">-->
<!--          <thead>-->
<!--          <tr>-->
<!--            <th>STT</th>-->
<!--            <th scope="col">Ngày</th>-->
<!--            <th scope="col">Thời Gian</th>-->
<!--            <th scope="col">Họ Và Tên Khách Hàng</th>-->
<!--            <th scope="col">Thông Tin Mua Hàng</th>-->
<!--            <th scope="col">Tổng Tiền (VNĐ)</th>-->
<!--            <th scope="col">Chức năng</th>-->
<!--          </tr>-->
<!--          </thead>-->

<!--          <tbody>-->

<!--          <tr *ngFor="let managerPurchaseHistory of page.content; index as i">-->
<!--            <th scope="row">{{i + 1}}</th>-->
<!--            <td>{{formatDate(managerPurchaseHistory.dateOutputInvoice)}}</td>-->
<!--            <td>{{formatTime(managerPurchaseHistory.dateOutputInvoice) }}</td>-->
<!--            <td>{{managerPurchaseHistory.customerName}}</td>-->
<!--            <td>{{managerPurchaseHistory.productName}}</td>-->
<!--            <td>{{managerPurchaseHistory.totalPrice}}</td>-->
<!--&lt;!&ndash;            <td><a class=" btn btn-primary" data-toggle="modal" data-target="#delete" (click)=getSoTietKiem(soTietKiem.id)  style="background: none"><i class="fa-solid fa-trash" style="color: #d41616;"></i>Xóa</a></td>&ndash;&gt;-->
<!--          </tr>-->
<!--          </tbody>-->

<!--        </table>-->
<!--        <div style="text-align: center" class="button">-->
<!--          <a (click)="loadManagerPurchaseHistory(1,8,'timeASC')" style=" margin: 18px" class="btn btn-outline-dark">Sắp xếp-->
<!--            theo thời gian</a>-->
<!--          <a (click)="loadManagerPurchaseHistory(1,8,'customerNameASC')" style=" margin: 18px"-->
<!--             class="btn btn-outline-dark">Sắp xếp theo tên khách hàng</a>-->
<!--          <a (click)="loadManagerPurchaseHistory(1,8,'productName')" style=" margin: 18px" class="btn btn-outline-dark">Sắp-->
<!--            xếp theo tên sản phẩm</a>-->
<!--          <a (click)="loadManagerPurchaseHistory(1,8,'quantity')" style=" margin: 18px" class="btn btn-outline-dark">Sắp-->
<!--            xếp theo số lượng</a>-->
<!--          <a (click)="loadManagerPurchaseHistory(1,8,'totalPrice')" style=" margin: 18px" class="btn btn-outline-dark">Sắp-->
<!--            xếp theo tổng tiền</a>-->
<!--        </div>-->
<!--        <div class="container">-->
<!--          <div class="row">-->
<!--            <div class="col-5"></div>-->
<!--            <div class="col-6" *ngIf="page.totalPages > 1">-->
<!--              <button class="btn btn-outline-primary" style="margin: 5px" (click)="loadManagerPurchaseHistory(page.number, 8, sort)"-->
<!--                      [disabled]="page.first">-->
<!--                Trước-->
<!--              </button>-->
<!--              <a *ngIf="page">{{page.number + 1}}/{{page.totalPages}}</a>-->
<!--              <button class="btn btn-outline-primary" style="margin:5px" (click)="loadManagerPurchaseHistory(page.number + 2, 8, sort)"-->
<!--                      [disabled]="page.last">Sau-->
<!--              </button>-->
<!--            </div>-->
<!--            <div class="col-1">-->
<!--              <button routerLink="/home" class="btn btn-outline-dark">Thoát</button>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--  </div>-->
<!--</ng-container>-->
<ng-container *ngIf="page">
<div style="width: 80%;height: 90%; margin: 10px auto; position: relative">

  <div style="border: 5px solid rgb(255, 212, 0);
  border-radius:10px;">
    <div class="container-fluid mt-2">
      <div class=" header ">
        <h1 class="mt-3 text-center"><i class="fa fa-building me-3 mt-3" aria-hidden="true"></i>Quản lý lịch sửa mua bán</h1>
      </div>
      <div class="row mt-4 custom2">
        <div class="container">
          <table class="table responsive table-bordered table-hover">
            <thead>
            <tr>
              <th scope="col">STT</th>
              <th scope="col">
                Ngày Tháng
                <button style="border: none; background: white"
                        (click)="loadManagerPurchaseHistory(1,8,'timeASC')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-up"
                       viewBox="0 0 16 16">
                    <path
                      d="M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                  </svg>
                </button>
                <button style="border: none; background: white"
                        (click)="loadManagerPurchaseHistory(1,8,'time')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-sort-down" viewBox="0 0 16 16">
                    <path
                      d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                  </svg>
                </button>
              </th>
              <th scope="col">Giờ</th>
              <th scope="col">Tên Khách Hàng
                <button style="border: none; background: white"
                        (click)="loadManagerPurchaseHistory(1,8,'customerNameASC')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-up"
                       viewBox="0 0 16 16">
                    <path
                      d="M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                  </svg>
                </button>
                <button style="border: none; background: white"
                        (click)="loadManagerPurchaseHistory(1,8,'customerNameDESC')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-sort-down" viewBox="0 0 16 16">
                    <path
                      d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                  </svg>
                </button></th>
              <th scope="col">Tổng Tiền (VNĐ)
                <button style="border: none; background: white; white-space: nowrap"
                        (click)="loadManagerPurchaseHistory(1,8,'totalPriceASC')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-up"
                       viewBox="0 0 16 16">
                    <path
                      d="M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                  </svg>
                </button>
                <button style="border: none; background: white"
                        (click)="loadManagerPurchaseHistory(1,8,'totalPriceDESC')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-sort-down" viewBox="0 0 16 16">
                    <path
                      d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                  </svg>
                </button></th>
              <th scope="col">Chi Tiết</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let managerPurchaseHistory of page.content; index as i" (click)="getDetail(managerPurchaseHistory.outputInvoiceId)">
              <th scope="row">{{i + 1}}</th>
              <td>{{formatDate(managerPurchaseHistory.dateOutputInvoice)}}</td>
              <td>{{formatTime(managerPurchaseHistory.dateOutputInvoice)}}</td>
              <td>{{managerPurchaseHistory.customerName}}</td>
              <td>{{formatCurrency(managerPurchaseHistory.totalPrice)}}</td>
              <td>
                <button style="white-space: nowrap" class="btn btn-sm btn-danger" class="btn btn-outline-secondary default-icon" data-bs-toggle="modal" data-bs-target="#exampleModal">
                  Chi Tiết
                </button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
        <div class="container">-->
                    <div class="row">
                      <div class="col-5"></div>
                      <div class="col-6" *ngIf="page.totalPages > 1">
                        <button class="btn btn-outline-primary" style="margin: 5px" (click)="loadManagerPurchaseHistory(page.number, 8, sort)"
                                [disabled]="page.first">
                          Trước
                        </button>
                        <a *ngIf="page">{{page.number + 1}}/{{page.totalPages}}</a>
                        <button class="btn btn-outline-primary" style="margin:5px" (click)="loadManagerPurchaseHistory(page.number + 2, 8, sort)"
                                [disabled]="page.last">Sau
                        </button>
                      </div>
                      <div class="col-1">
                        <button routerLink="/home" class="btn btn-outline-dark">Thoát</button>
                      </div>
                    </div>
                  </div>
                </div>
                </div>
      </div>
    </div>
</ng-container>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="exampleModalLabel">Thông Tin Chi Tiết</h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead>
          <tr>
            <th style="white-space: nowrap;">Số Lượng</th>
            <th>Tên Sản Phẩm</th>
            <th>Thành Tiền</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let detail of details">
            <td>{{ detail.quantity }}</td>
            <td>{{ detail.productName }}</td>
            <td>{{formatCurrency(detail.subTotal) }}</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
      </div>
    </div>
  </div>
</div>


